[gd_scene load_steps=11 format=4 uid="uid://dhd0snu2yv3e5"]

[ext_resource type="Script" uid="uid://ct55chxbho0yk" path="res://Scripts/level.gd" id="1_v72e1"]
[ext_resource type="PackedScene" uid="uid://bd72ohs7x3fys" path="res://Scenes/tilemap.tscn" id="2_so18s"]
[ext_resource type="PackedScene" uid="uid://b1wf1joh17gir" path="res://Scenes/openDoor.tscn" id="4_jld50"]
[ext_resource type="PackedScene" uid="uid://cywp0vhrkjqsx" path="res://Scenes/door.tscn" id="6_7csao"]
[ext_resource type="PackedScene" uid="uid://ctaqft8gk43cp" path="res://Levels/Level1/doorAlternate.tscn" id="7_7kvmr"]
[ext_resource type="PackedScene" uid="uid://bu73dvp8i65sr" path="res://Scenes/torch.tscn" id="7_xrw8b"]
[ext_resource type="PackedScene" uid="uid://0t3tdgnb5mjo" path="res://Levels/Level1/monsterSpawner.tscn" id="8_pdu42"]
[ext_resource type="PackedScene" uid="uid://b3i6dfak5vsmn" path="res://Scenes/spike.tscn" id="9_lfbxl"]
[ext_resource type="Script" uid="uid://dya7qfsa4hqdw" path="res://Scripts/spikeController.gd" id="9_v72e1"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_pdu42"]
vertices = PackedVector2Array(-10.390625, 64.57031, -84.5, 65.421875, -84.5, -64.5, -9.3984375, 2.5234375, 309.5, -64.5, 309.5, 1.5234375)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(3, 2, 4, 5)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-91, -71, -91, 72, -4, 71, -3, 9, 316, 8, 316, -71)])
agent_radius = 6.5

[node name="Main" type="Node2D" node_paths=PackedStringArray("doors") groups=["North", "South"]]
texture_filter = 1
script = ExtResource("1_v72e1")
level = 4
enemies = 0
doors = [NodePath("Door5"), NodePath("Door"), NodePath("Door2"), NodePath("Door4")]

[node name="Door5" parent="." instance=ExtResource("4_jld50")]
position = Vector2(-48, 59)
toTransport = 9
playerPos = Vector2(0, -38)
enemyControlled = false
direction = "south"

[node name="Floor" parent="." instance=ExtResource("2_so18s")]
z_index = -2
tile_map_data = PackedByteArray("AAACAPz/AAABAAoAAAABAPz/AAABABYAAAAAAPz/AAAAABUAAAD///z/AAABAAoAAAD+//z/AAABABUAAAD9//z/AAABAAoAAAD8//z/AAABAAoAAAD7//z/AAABABUAAAD7//3/AAABABYAAAD7//7/AAABAAoAAAD7////AAABAAoAAAD7/wAAAAABAAoAAAD7/wEAAAAAABYAAAD7/wIAAAAAABUAAAD7/wMAAAABAAoAAAD8/wMAAAABAAoAAAD9/wMAAAABAAoAAAD+/wMAAAABAAoAAAD//wMAAAACAAoAAAAEAAAAAAABAAsAAAAEAP//AAAAABUAAAAEAP7/AAAAABUAAAAEAP3/AAABAAoAAAADAP3/AAABABYAAAADAPz/AAABAAoAAAAEAPz/AAABABYAAAACAP3/AAABAAoAAAABAP3/AAABAAoAAAAAAP3/AAABAAoAAAD///3/AAABAAoAAAD+//3/AAABABYAAAD9//3/AAABAAoAAAD8//3/AAABAAoAAAD8//7/AAABAAoAAAD8////AAAAABYAAAD8/wAAAAABABYAAAD8/wEAAAABAAoAAAD8/wIAAAABAAoAAAD9/wIAAAABAAoAAAD+/wIAAAABAAoAAAD//wIAAAACAAoAAAADAAAAAAABAAsAAAADAP//AAABABUAAAACAP//AAABAAoAAAACAP7/AAAAABUAAAABAP7/AAABAAoAAAAAAP7/AAABAAoAAAD///7/AAABAAoAAAD+//7/AAABAAoAAAD9//7/AAABAAoAAAD9////AAABAAoAAAD9/wAAAAABAAoAAAD9/wEAAAABAAoAAAD+/wEAAAABAAoAAAD//wEAAAACAAoAAAADAP7/AAABAAoAAAD/////AAAAABUAAAD+////AAABAAoAAAD+/wAAAAABAAoAAAACAAAAAAABAAsAAAABAP//AAABABUAAAAAAP//AAABAAoAAAAAAAAAAAABAAsAAAABAAAAAAABAAsAAAD//wAAAAADAAkAAAAEAPv/AAABAAoAAAADAPv/AAABAAoAAAACAPv/AAABAAoAAAABAPv/AAABAAoAAAAAAPv/AAABAAoAAAD///v/AAABAAoAAAD+//v/AAABAAoAAAD9//v/AAABAAoAAAD8//v/AAABAAoAAAD7//v/AAABAAoAAAD6//v/AAAAAAoAAAD6//z/AAAAAAoAAAD6//3/AAAAAAoAAAD6//7/AAAAAAoAAAD6////AAAAAAoAAAD6/wAAAAAAAAoAAAD6/wEAAAAAAAoAAAD6/wIAAAAAAAoAAAD6/wMAAAAAAAoAAAD6/wQAAAAAAAsAAAD7/wQAAAABAAsAAAD8/wQAAgABAAsAAAD9/wQAAgABAAsAAAD+/wQAAAABAAsAAAD//wQAAAACAAsAAAAFAAAAAAABAAsAAAAFAP//AAAAABYAAAAFAP7/AAABAAoAAAAFAP3/AAABAAoAAAAFAPz/AAABAAoAAAAFAPv/AAABAAoAAAAGAPz/AAABABYAAAAGAP3/AAABAAoAAAAGAP7/AAABAAoAAAAHAP7/AAABAAoAAAAIAP7/AAABAAoAAAAJAP7/AAABAAoAAAAHAPz/AAABAAoAAAAIAPz/AAABAAoAAAAJAPz/AAABAAoAAAAKAPz/AAABAAoAAAALAPz/AAABAAoAAAAMAPz/AAABAAoAAAANAPz/AAABABUAAAAOAPz/AAABAAoAAAAPAPz/AAABAAoAAAAQAPz/AAABAAoAAAARAPz/AAABABYAAAASAPz/AAAAABYAAAATAPz/AAACAAoAAAATAP3/AAACAAoAAAATAP7/AAACAAoAAAASAP7/AAABAAoAAAARAP7/AAABABYAAAAQAP7/AAABAAoAAAAPAP7/AAABAAoAAAAOAP7/AAABAAoAAAANAP7/AAABAAoAAAAMAP7/AAABAAoAAAALAP7/AAABAAoAAAAKAP7/AAABAAoAAAAHAP3/AAAAABYAAAAIAP3/AAABAAoAAAAJAP3/AAAAABUAAAAKAP3/AAABAAoAAAALAP3/AAABAAoAAAAMAP3/AAAAABUAAAANAP3/AAAAABUAAAAOAP3/AAAAABUAAAAPAP3/AAABAAoAAAAQAP3/AAABAAoAAAARAP3/AAABAAoAAAASAP3/AAABAAoAAAAGAP//AAAAABUAAAAHAP//AAABAAoAAAAIAP//AAABAAoAAAAJAP//AAABAAoAAAAKAP//AAABABYAAAALAP//AAABAAoAAAAMAP//AAABAAoAAAANAP//AAABAAoAAAAOAP//AAAAABUAAAAPAP//AAABAAoAAAAQAP//AAABAAoAAAARAP//AAABAAoAAAASAP//AAABAAoAAAATAP//AAACAAoAAAATAPv/AAACAAoAAAASAPv/AAABAAoAAAARAPv/AAABAAoAAAAQAPv/AAABAAoAAAAPAPv/AAABAAoAAAAOAPv/AAABAAoAAAANAPv/AAABAAoAAAAMAPv/AAABAAoAAAALAPv/AAABAAoAAAAKAPv/AAABAAoAAAAJAPv/AAABAAoAAAAIAPv/AAABAAoAAAAHAPv/AAABAAoAAAAGAPv/AAABAAoAAAAGAAAAAAABAAsAAAAHAAAAAAABAAsAAAAIAAAAAAABAAsAAAAJAAAAAAABAAsAAAAKAAAAAAABAAsAAAALAAAAAAABAAsAAAAMAAAAAAABAAsAAAANAAAAAAABAAsAAAAOAAAAAAABAAsAAAAPAAAAAAABAAsAAAARAAAAAAABAAsAAAASAAAAAAABAAsAAAATAAAAAAACAAsAAAAQAAAAAAABAAsAAAAAAPr/AAABAAoAAAD///r/AAABAAoAAAAGAPr/AAABAAoAAAAHAPr/AAABAAoAAAAPAPr/AAABAAoAAAAOAPr/AAABAAoAAAA=")

[node name="Y_Sorting" type="Node2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Spikes" type="Node2D" parent="Y_Sorting"]
position = Vector2(-30, -5)
script = ExtResource("9_v72e1")

[node name="Spike" parent="Y_Sorting/Spikes" instance=ExtResource("9_lfbxl")]
position = Vector2(18, -1)

[node name="Spike2" parent="Y_Sorting/Spikes" instance=ExtResource("9_lfbxl")]
position = Vector2(4, -1)

[node name="Spike3" parent="Y_Sorting/Spikes" instance=ExtResource("9_lfbxl")]
position = Vector2(-10, -1)

[node name="Spike4" parent="Y_Sorting/Spikes" instance=ExtResource("9_lfbxl")]
position = Vector2(-24, -1)

[node name="Spike5" parent="Y_Sorting/Spikes" instance=ExtResource("9_lfbxl")]
position = Vector2(-38, -1)

[node name="Spike6" parent="Y_Sorting/Spikes" instance=ExtResource("9_lfbxl")]
position = Vector2(-52, -1)

[node name="Door" parent="." node_paths=PackedStringArray("coverUp") instance=ExtResource("6_7csao")]
position = Vector2(0, -85)
toTransport = 5
playerPos = Vector2(0, 54)
enemyControlled = false
direction = "north"
coverUp = NodePath("../DoorAlternate3")

[node name="Torch" parent="Door" instance=ExtResource("7_xrw8b")]
position = Vector2(38, 0)

[node name="Torch2" parent="Door" instance=ExtResource("7_xrw8b")]
position = Vector2(-34, 0)

[node name="DoorAlternate3" parent="." instance=ExtResource("7_7kvmr")]
visible = false

[node name="Door2" parent="." node_paths=PackedStringArray("coverUp") instance=ExtResource("6_7csao")]
position = Vector2(112, -85)
toTransport = 6
playerPos = Vector2(0, 54)
enemyControlled = false
direction = "north"
coverUp = NodePath("../DoorAlternate4")

[node name="DoorAlternate4" parent="." instance=ExtResource("7_7kvmr")]
visible = false
position = Vector2(112, 0)

[node name="Door4" parent="." node_paths=PackedStringArray("coverUp") instance=ExtResource("6_7csao")]
position = Vector2(240, -85)
toTransport = 8
playerPos = Vector2(0, 54)
enemyControlled = false
direction = "north"
coverUp = NodePath("../DoorAlternate5")

[node name="DoorAlternate5" parent="." instance=ExtResource("7_7kvmr")]
visible = false
position = Vector2(240, 0)

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.69135684, 0.6913568, 0.69135684, 1)

[node name="Control" type="Control" parent="."]
clip_contents = true
layout_mode = 3
anchors_preset = 0
offset_left = -92.0
offset_top = -109.0
offset_right = 317.0
offset_bottom = 73.0

[node name="BackWalls" parent="Control" instance=ExtResource("2_so18s")]
z_index = -1
position = Vector2(92, 109)
tile_map_data = PackedByteArray("AAD+//n/AAABAA8AAAD+//r/AAABABAAAAD+//v/AAABABEAAAD9//n/AAABAA8AAAD9//r/AAABABAAAAD9//v/AAABABEAAAD8//n/AAABAA8AAAD8//r/AAABABAAAAD8//v/AAABABEAAAD7//n/AAABAA8AAAD7//r/AAABABAAAAD7//v/AAABABEAAAD///n/AAABAA8AAAAAAPn/AAABAA8AAAAQAPn/AAABAA8AAAAQAPr/AAABABAAAAAQAPv/AAABABEAAAARAPn/AAABAA8AAAARAPr/AAABABAAAAARAPv/AAABABEAAAASAPn/AAABAA8AAAASAPr/AAABABAAAAASAPv/AAABABEAAAATAPn/AAABAA8AAAATAPr/AAABABAAAAATAPv/AAABABEAAAABAPn/AAABAA8AAAABAPr/AAABABAAAAABAPv/AAABABEAAAACAPn/AAABAA8AAAACAPr/AAABABAAAAACAPv/AAABABEAAAADAPn/AAABAA8AAAADAPr/AAABABAAAAADAPv/AAABABEAAAAEAPn/AAABAA8AAAAFAPn/AAABAA8AAAAGAPn/AAABAA8AAAAHAPn/AAABAA8AAAAPAPn/AAABAA8AAAAOAPn/AAABAA8AAAANAPn/AAABAA8AAAANAPr/AAABABAAAAANAPv/AAABABEAAAAMAPn/AAABAA8AAAAMAPr/AAABABAAAAAMAPv/AAABABEAAAALAPn/AAABAA8AAAALAPr/AAABABAAAAALAPv/AAABABEAAAAKAPn/AAABAA8AAAAJAPn/AAABAA8AAAAIAPn/AAABAA8AAAAIAPr/AAABABAAAAAIAPv/AAABABEAAAD6//n/AAABAA8AAAD6//r/AAABABAAAAD6//v/AAABABEAAAAEAPr/AAABABAAAAAEAPv/AAABABEAAAAFAPr/AAABABAAAAAFAPv/AAABABEAAAAJAPr/AAABABAAAAAJAPv/AAABABEAAAAKAPr/AAABABAAAAAKAPv/AAABABEAAAA=")

[node name="Area2D" type="Area2D" parent="."]
visible = false
collision_layer = 8
collision_mask = 8

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Area2D"]
polygon = PackedVector2Array(-91, 72, -4, 72, -4, 8, 316, 8, 316, -70, -91, -70)

[node name="player" type="Area2D" parent="."]
visible = false
collision_layer = 0
collision_mask = 2

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="player"]
polygon = PackedVector2Array(-91, 72, -4, 72, -4, 8, 316, 8, 316, -70, -91, -70)

[node name="MonsterSpawner" parent="." instance=ExtResource("8_pdu42")]
position = Vector2(127, -37)
strength = 1

[node name="NavRegion" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_pdu42")
use_edge_connections = false

[connection signal="area_entered" from="Area2D" to="." method="_on_area_2d_area_entered"]
[connection signal="area_entered" from="player" to="." method="_on_player_area_entered"]
[connection signal="area_exited" from="player" to="." method="_on_player_area_exited"]
